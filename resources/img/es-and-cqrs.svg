<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="611px" height="393px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36&quot; version=&quot;5.5.3.2&quot; editor=&quot;www.draw.io&quot; type=&quot;device&quot;&gt;&lt;diagram&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g transform="translate(0.5,0.5)"><rect x="8" y="152" width="560" height="160" fill-opacity="0.5" fill="#f8cecc" stroke="none" pointer-events="none"/><g transform="translate(9.5,294.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="107" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: &quot;Noto Sans CJK JP&quot;; color: rgb(77, 77, 77); line-height: 1.2; vertical-align: top; width: 108px; white-space: nowrap; word-wrap: normal; font-weight: bold; font-style: italic;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Command-Side</div></div></foreignObject><text x="54" y="14" fill="#4D4D4D" text-anchor="middle" font-size="14px" font-family="Noto Sans CJK JP" font-weight="bold" font-style="italic">Command-Side</text></switch></g><rect x="8" y="2" width="560" height="150" fill-opacity="0.5" fill="#d4e1f5" stroke="none" pointer-events="none"/><g transform="translate(9.5,8.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="78" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: &quot;Noto Sans CJK JP&quot;; color: rgb(77, 77, 77); line-height: 1.2; vertical-align: top; width: 79px; white-space: nowrap; word-wrap: normal; font-weight: bold; font-style: italic;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div style="text-align: left">Query-Side</div></div></div></foreignObject><text x="39" y="14" fill="#4D4D4D" text-anchor="middle" font-size="14px" font-family="Noto Sans CJK JP" font-weight="bold" font-style="italic">[Not supported by viewer]</text></switch></g><path d="M 301 58 C 301 36.67 361 36.67 361 58 L 361 106 C 361 127.33 301 127.33 301 106 Z" fill="#ffffff" stroke="#666666" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 301 58 C 301 74 361 74 361 58" fill="none" stroke="#666666" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 71 208 C 71 186.67 131 186.67 131 208 L 131 256 C 131 277.33 71 277.33 71 256 Z" fill="#ffffff" stroke="#666666" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 71 208 C 71 224 131 224 131 208" fill="none" stroke="#666666" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><rect x="271" y="202" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#666666" stroke-width="3" pointer-events="none"/><g transform="translate(278.5,224.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="104" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: &quot;Noto Sans CJK JP&quot;; color: black; line-height: 1.2; vertical-align: top; width: 104px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">PersistentEntity</div></div></foreignObject><text x="52" y="14" fill="black" text-anchor="middle" font-size="14px" font-family="Noto Sans CJK JP">PersistentEntity</text></switch></g><rect x="41" y="52" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#666666" stroke-width="3" pointer-events="none"/><g transform="translate(49.5,74.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="102" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: &quot;Noto Sans CJK JP&quot;; color: black; line-height: 1.2; vertical-align: top; width: 102px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">EventProcessor</div></div></foreignObject><text x="51" y="14" fill="black" text-anchor="middle" font-size="14px" font-family="Noto Sans CJK JP">EventProcessor</text></switch></g><path d="M 101 192 L 101 123.97" fill="none" stroke="#0066cc" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 101 116.47 L 106 126.47 L 101 123.97 L 96 126.47 Z" fill="#0066cc" stroke="#0066cc" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 161 82 L 289.03 82" fill="none" stroke="#808080" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 296.53 82 L 286.53 87 L 289.03 82 L 286.53 77 Z" fill="#808080" stroke="#808080" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 271 232 L 261 232 Q 251 232 251 242 L 251 282 Q 251 292 261 292 L 291 292 Q 301 292 301 284.24 L 301 276.47" fill="none" stroke="#808080" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 301 266.47 L 306 276.47 L 296 276.47 Z" fill="#808080" stroke="#808080" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 80 122 L 80 181.53" fill="none" stroke="#808080" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="4 16" pointer-events="none"/><path d="M 80 191.53 L 76.67 181.53 L 83.33 181.53 Z" fill="#808080" stroke="#808080" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><rect x="488" y="122" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#666666" stroke-width="3" pointer-events="none"/><g transform="translate(508.5,144.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="78" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: &quot;Noto Sans CJK JP&quot;; color: black; line-height: 1.2; vertical-align: top; width: 78px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">ServiceImpl</div></div></foreignObject><text x="39" y="14" fill="black" text-anchor="middle" font-size="14px" font-family="Noto Sans CJK JP">ServiceImpl</text></switch></g><path d="M 548 182 L 548 222 Q 548 232 538 232 L 402.97 232" fill="none" stroke="#009900" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 395.47 232 L 405.47 227 L 402.97 232 L 405.47 237 Z" fill="#009900" stroke="#009900" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 548 110.03 L 548 92 Q 548 82 538 82 L 361 82" fill="none" stroke="#808080" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 548 117.53 L 543 107.53 L 548 110.03 L 553 107.53 Z" fill="#808080" stroke="#808080" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(415.5,88.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="45" height="17" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: &quot;Noto Sans CJK JP&quot;; color: rgb(77, 77, 77); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 26px; max-width: 76px; width: 47px; white-space: normal; word-wrap: normal; font-style: italic; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Query</div></div></foreignObject><text x="23" y="17" fill="#4D4D4D" text-anchor="middle" font-size="16px" font-family="Noto Sans CJK JP" font-style="italic">Query</text></switch></g><g transform="translate(15.5,143.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="51" height="17" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: &quot;Noto Sans CJK JP&quot;; color: rgb(77, 77, 77); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 36px; max-width: 76px; width: 53px; white-space: normal; word-wrap: normal; font-style: italic; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Polling</div></div></foreignObject><text x="26" y="17" fill="#4D4D4D" text-anchor="middle" font-size="16px" font-family="Noto Sans CJK JP" font-style="italic">Polling</text></switch></g><g transform="translate(306.5,283.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="96" height="17" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: &quot;Noto Sans CJK JP&quot;; color: rgb(77, 77, 77); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 36px; max-width: 103px; width: 98px; white-space: normal; word-wrap: normal; font-style: italic; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Update State</div></div></foreignObject><text x="48" y="17" fill="#4D4D4D" text-anchor="middle" font-size="16px" font-family="Noto Sans CJK JP" font-style="italic">Update State</text></switch></g><path d="M 271 232 L 142.97 232" fill="none" stroke="#0066cc" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 135.47 232 L 145.47 227 L 142.97 232 L 145.47 237 Z" fill="#0066cc" stroke="#0066cc" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 453 343 L 384.97 343" fill="none" stroke="#009900" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 377.47 343 L 387.47 338 L 384.97 343 L 387.47 348 Z" fill="#009900" stroke="#009900" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 453 378 L 384.97 378" fill="none" stroke="#0066cc" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 377.47 378 L 387.47 373 L 384.97 378 L 387.47 383 Z" fill="#0066cc" stroke="#0066cc" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(464.5,369.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="42" height="17" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: &quot;Noto Sans CJK JP&quot;; color: rgb(77, 77, 77); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 21px; max-width: 72px; width: 43px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Event</div></div></foreignObject><text x="21" y="17" fill="#4D4D4D" text-anchor="middle" font-size="16px" font-family="Noto Sans CJK JP">Event</text></switch></g><g transform="translate(464.5,333.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="78" height="17" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 16px; font-family: &quot;Noto Sans CJK JP&quot;; color: rgb(77, 77, 77); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 21px; max-width: 101px; width: 79px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Command</div></div></foreignObject><text x="39" y="17" fill="#4D4D4D" text-anchor="middle" font-size="16px" font-family="Noto Sans CJK JP">Command</text></switch></g></g></svg>